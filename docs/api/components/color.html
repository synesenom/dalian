<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="../../style/fonts.css"><link rel="stylesheet" type="text/css" href="../../style/base.css"><link rel="stylesheet" type="text/css" href="../../style/link.css"><link rel="stylesheet" type="text/css" href="../../style/code.css"><link rel="stylesheet" type="text/css" href="../../style/heading.css"><link rel="stylesheet" type="text/css" href="../../style/scrollbar.css"><link rel="stylesheet" type="text/css" href="../../style/atelier-lakeside-light.css"><link rel="stylesheet" type="text/css" href="../../style/main.css"><link rel="stylesheet" type="text/css" href="../../style/api.css"><script src="../../js/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><title>Color | dalian</title></head><body><aside><div class="menu-title">methods</div><ul class="methods"><li><a id="toc-Color" href="#Color">Color</a></li><li><a id="toc-deficiency" href="#deficiency">deficiency</a></li><li><a id="toc-on" href="#on">on</a></li><li><a id="toc-palette" href="#palette">palette</a></li><li><a id="toc-policy" href="#policy">policy</a></li></ul></aside><main><div class="main-content-padded"><h1>Color</h1><p></p><h2>example</h2><p>Explore the API in the <a href="../../catalogue/components/color">live example</a>.</p><h2>api reference</h2><div class="card"><pre class="title" id="Color">Color()</pre><div class="desc">Component implementing various color palettes and coloring policies. When this component is available for a widget, its API is exposed via the <code>.color</code> namespace.</div></div><div class="card"><pre class="title" id="deficiency">Color.deficiency(type)</pre><div class="desc">Emulates a color vision deficiency. Useful for testing the widget for accessibility. The deficiency emulation is implemented using the algorithm <a href="http://web.archive.org/web/20081030075157/http://www.nofunc.com/Color_Blindness_Library/">here</a> .</div><h3>Parameters</h3><table><thead><tr><th class="param-name">Name</th><th class="param-type">Type</th><th class="param-desc">Description</th></tr></thead><tbody><tr><td><i>type</i></td><td class="param-type">string</td><td>Type of deficiency to emulate. Supported values: <code> achromatomaly </code> , <code> achromatopsia </code> , <code> deuteranomaly </code> , <code> deuteranopia </code> , <code> protanomaly </code> , <code> protanopia </code> , <code> tritanomaly </code> , <code> tritanopia </code> . If it is not specified, true colors are restored.</td></tr></tbody></table><h3>Returns</h3><div class="returns"><div class="return-type"><code>Widget</code></div><div class="return-desc">Reference to the Widget's API.</div></div></div><div class="card"><pre class="title" id="on">Color.on([on])</pre><div class="desc">Sets the mapping function that should be used to map data points to colors. It is used different ways for each coloring policy: <ul> <li><strong>Categorical</strong>: the function should map to distinct categorical values (such as integers or strings).</li> <li><strong>Sequential</strong>: the function should map to the interval [0, 1].<li> <li><strong>Diverging</strong>: the function should map to the interval [-1, 1].<li> </ul></div><h3>Parameters</h3><table><thead><tr><th class="param-name">Name</th><th class="param-type">Type</th><th class="param-desc">Description</th></tr></thead><tbody><tr><td><i>on</i></td><td class="param-type">Function</td><td><span class="param-optional">optional</span>Function that maps from a data point to a set of categories, the interval <a href="undefined">0, 1</a> <a href="undefined">-1, 1</a>&nbsp;Default value is <code>d =&gt; d.name</code>.</td></tr></tbody></table><h3>Returns</h3><div class="returns"><div class="return-type"><code>Widget</code></div><div class="return-desc">Reference to the Widget's API.</div></div></div><div class="card"><pre class="title" id="palette">Color.palette(palette, missing)</pre><div class="desc">Sets the color palette. Supported palettes: <ul> <li> <strong>Default color palette</strong>: When the palette is not specified or it is incompatible with the currently set policy, the policy dependent default palette is used. See the documentation of the policy method for details. </li> <li> <strong>Built-in color palette</strong> (passing a <code>string</code> that starts with 'policy-'): One of the built-in palettes that support the vast majority of color vision deficiencies: <ul> <li> <code>palette-light</code>The 9 color colorblind friendly qualitative palette designed by Paul Tol. See <a href='https://personal.sron.nl/~pault/#fig:scheme_light'>this post</a> for details. <div class='palette'> <span>Colors:</span> <div style='background-color:#77aadd'></div> <div style='background-color:#99ddff'></div> <div style='background-color:#44bb99'></div> <div style='background-color:#bbcc33'></div> <div style='background-color:#aaaa00'></div> <div style='background-color:#eedd88'></div> <div style='background-color:#ee8866'></div> <div style='background-color:#ffaabb'></div> <div style='background-color:#dddddd'></div> </div> </li> </ul> </li> <li> <strong>Single color</strong> (passing a <code>string</code> that represents a color): The specified color is used for all plots (categorical policy) or shades of the color are used (sequential policy). </li> <li> <strong>List of colors</strong> (passing <code>string[]</code>): A custom color palette. It is either used to color elements in the order they appear in a widget (categorical policy) or colors are interpolated in the specified order (sequential and diverging policies). </li> <li> <strong>Custom color mapping</strong> (passing an <code>object</code>): Each plot has the color specified as the value for the property with the same name as the plot's key. </li> </ul></div><h3>Parameters</h3><table><thead><tr><th class="param-name">Name</th><th class="param-type">Type</th><th class="param-desc">Description</th></tr></thead><tbody><tr><td><i>palette</i></td><td class="param-type">string, string[], Object</td><td>Color palette to set. If not specified, the default policy is set. If string, it's either a built-in palette or a the color represented by the string is used for all plots. If an array of strings, it's colors are assigned to plots as they are added to the widget without any specific association between colors and plots. If an object, it is used as a mapping from the plot names to the colors.</td></tr><tr><td><i>missing</i></td><td class="param-type">string</td><td>Color to be used for missing values. This is mostly relevant for the sequential and diverging color policies. Default value is policy dependent.</td></tr></tbody></table><h3>Returns</h3><div class="returns"><div class="return-type"><code>Widget</code></div><div class="return-desc">Reference to the Widget's API.</div></div></div><div class="card"><pre class="title" id="policy">Color.policy([policy])</pre><div class="desc">Sets the color scheme policy and updates the current color mapping. The following policies are supported: <ul> <li><code>categorical</code>: Maps categories to colors, typically different plots in a chart or groups of elements in a widget. Supported palette types: single color (all elements have the same color), array of colors (incoming elements in a widget will be assigned colors in order), object representing the color mapping (with element name - color as property names and values). The default color palette is the one proposed by Bang Wong (See <a href='https://www.nature.com/articles/nmeth.1618'>this paper</a> and <a href='http://mkweb.bcgsc.ca/colorblind/'>this post</a> for details): <div class='palette'> <span>Colors:</span> <div style='background-color:#333333'></div> <div style='background-color:#0072b2'></div> <div style='background-color:#56b4e9'></div> <div style='background-color:#009e73'></div> <div style='background-color:#f0e442'></div> <div style='background-color:#e69f00'></div> <div style='background-color:#d55e00'></div> <div style='background-color:#cc79a7'></div> </div> </li> <li><code>sequential</code>: Maps the interval [0, 1] to a range of colors. When this policy is used, it is most often applied together with a specific mapping function set by the <code>on</code> method. Supported palette types: single color (colors are interpolated from white to the specified color), array of colors (colors are interpolated according to the specified colors). The default color palette is the iridescent palette created by Paul Tol (See <a href='https://personal.sron.nl/~pault/#sec:sequential'>this post</a> for details): <div class='palette'> <span>Colors:</span> <div style='background-color:#fefbe9'></div> <div style='background-color:#fcf7d5'></div> <div style='background-color:#f5f3c1'></div> <div style='background-color:#eaf0b5'></div> <div style='background-color:#ddecbf'></div> <div style='background-color:#d0e7ca'></div> <div style='background-color:#c2e3d2'></div> <div style='background-color:#b5ddd8'></div> <div style='background-color:#a8d8dc'></div> <div style='background-color:#9bd2e1'></div> <div style='background-color:#8dcbe4'></div> <div style='background-color:#81c4e7'></div> <div style='background-color:#7bbce7'></div> <div style='background-color:#7eb2e4'></div> <div style='background-color:#88a5dd'></div> <div style='background-color:#9398d2'></div> <div style='background-color:#9b8ac4'></div> <div style='background-color:#9d7db2'></div> <div style='background-color:#9a709e'></div> <div style='background-color:#906388'></div> <div style='background-color:#805770'></div> <div style='background-color:#684957'></div> <div style='background-color:#46353a'></div> </div> </li> <li><code>diverging</code>: Maps the interval [-1, 1] to a range of colors. When this policy is used, it is most often applied together with a specific mapping function set by the <code>on</code> method. Supported palette types: array of colors (colors are interpolated according to the specified colors). The default palette is the sunset palette created by Paul Tol which is a variant of the diverging color palette RdYlBu from Cynthia Brewer (See <a href='https://personal.sron.nl/~pault/#fig:scheme_sunset'>this post</a> and <a href='https://colorbrewer2.org/#type=diverging&scheme=RdYlBu&n=11'>the original</a> scheme for details): <div class='palette'> <span>Colors:</span> <div style='background-color:#364b9a'></div> <div style='background-color:#4a7bb7'></div> <div style='background-color:#6ea6cd'></div> <div style='background-color:#98cae1'></div> <div style='background-color:#c2e4ef'></div> <div style='background-color:#eaeccc'></div> <div style='background-color:#feda8b'></div> <div style='background-color:#fdb366'></div> <div style='background-color:#f67e4b'></div> <div style='background-color:#dd3d2d'></div> <div style='background-color:#a50026'></div> </div> </li> </ul></div><h3>Parameters</h3><table><thead><tr><th class="param-name">Name</th><th class="param-type">Type</th><th class="param-desc">Description</th></tr></thead><tbody><tr><td><i>policy</i></td><td class="param-type">string</td><td><span class="param-optional">optional</span>Policy to set for the color scheme.&nbsp;Default value is <code>categorical</code>.</td></tr></tbody></table><h3>Returns</h3><div class="returns"><div class="return-type"><code>Widget</code></div><div class="return-desc">Reference to the Widget's API.</div></div></div></div></main></body></html>