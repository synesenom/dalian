(function(e,n){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=n()}else if(typeof define==="function"&&define.amd){define(["exports"],n)}else{e.codedoc=n()}})(this,function(){"use strict";var e=".doc";var n="code-doc";var t=null;function r(e){t=e;return this}var o=false;function d(){o=true;return this}function c(){if(typeof document!=="undefined"){document.getElementById(n).innerHTML="";document.body.querySelectorAll("script"+e).forEach(function(e){var t=e.innerHTML.trim().split("\n");if(o){var r=t[0].replace(/^\/\//,"").trim();var d=document.createElement("h1");d.innerHTML=r;document.getElementById(n).appendChild(d)}var c=t.slice(o?1:0,t.length).join("\n").trim();var i=document.createElement("code");i.className="javascript";i.innerHTML=c;var a=document.createElement("pre");a.appendChild(i);document.getElementById(n).appendChild(a)});t&&t()}else{console.error("NoDOMError: DOM is not detected, cannot add code blocks")}return this}window.addEventListener("load",function(){c(e,n,t)});return{callback:r,heading:d,run:c}});