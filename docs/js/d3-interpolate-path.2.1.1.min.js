!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).d3=t.d3||{})}(this,function(t){"use strict";function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function r(t,e){var n=[],r=[];return t.length&&function t(e,o){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var u=Array(e.length-1),l=0;l<u.length;l++)0===l&&n.push(e[0]),l===u.length-1&&r.push(e[l+1]),u[l]=[(1-o)*e[l][0]+o*e[l+1][0],(1-o)*e[l][1]+o*e[l+1][1]];t(u,o)}}(t,e),{left:n,right:r.reverse()}}function o(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],4===t.length?e.type="C":3===t.length?e.type="Q":e.type="L",e}function u(t,e,n){var u=[[t.x,t.y]];return null!=e.x1&&u.push([e.x1,e.y1]),null!=e.x2&&u.push([e.x2,e.y2]),u.push([e.x,e.y]),function(t,e){for(var n=[],o=t,u=1/(e=e||2),l=0;l<e-1;l++){var a=r(o,u/(1-u*l));n.push(a.left),o=a.right}return n.push(o),n}(u,n).map(o)}var l=/[MLCSTQAHVmlcstqahv]|[\d.-]+/g,a={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"]};function i(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function f(t){return"".concat(t.type).concat(a[t.type].map(function(e){return t[e]}).join(","))}function c(t,e,r){var o=t.length-1,l=e.length-1,a=o/l,f=i(l).reduce(function(e,n,o){var u=Math.floor(a*o);if(r&&u<t.length-1&&r(t[u],t[u+1])){var l=a*o%1<.5;e[u]&&(l?u>0?u-=1:u<t.length-1&&(u+=1):u<t.length-1?u+=1:u>0&&(u-=1))}return e[u]=(e[u]||0)+1,e},[]).reduce(function(e,r,o){if(o===t.length-1){var l=i(r,n({},t[t.length-1]));return"M"===l[0].type&&l.forEach(function(t){t.type="L"}),e.concat(l)}return e.concat(function(t,e,r){var o=[];if("L"===e.type||"Q"===e.type||"C"===e.type)o=o.concat(u(t,e,r));else{var l=n({},t);"M"===l.type&&(l.type="L"),(o=o.concat(i(r-1).map(function(){return l}))).push(e)}return o}(t[o],t[o+1],r))},[]);return f.unshift(t[0]),f}function y(t){for(var e,n,r=(t||"").match(l)||[],o=[],u=0;u<r.length;++u)if(e=a[r[u]]){n={type:r[u]};for(var i=0;i<e.length;++i)n[e[i]]=+r[u+i+1];u+=e.length,o.push(n)}return o}Object.keys(a).forEach(function(t){a[t.toLowerCase()]=a[t]}),t.interpolatePath=function(t,n,r){var o=y(t),u=y(n);if(!o.length&&!u.length)return function(){return""};o.length?u.length||u.push(o[0]):o.push(u[0]),0!==Math.abs(u.length-o.length)&&(u.length>o.length?o=c(o,u,r):u.length<o.length&&(u=c(u,o,r)));var l=(o=o.map(function(t,e){return function(t,e){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(t.type!==e.type&&"M"!==e.type.toUpperCase()){var o={};Object.keys(e).forEach(function(u){var l=e[u],a=t[u];void 0===a&&(r.includes(u)?a=l:(void 0===a&&n[u]&&(a=t[n[u]]),void 0===a&&(a=0))),o[u]=a}),o.type=e.type,t=o}return t}(t,u[e])})).map(function(t){return function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(n){e(t,n,r[n])})}return t}({},t)}),i=!(null!=t&&"Z"!==t[t.length-1]||null!=n&&"Z"!==n[n.length-1]);return function(t){if(1===t)return null==n?"":n;if(t>0)for(var e=0;e<l.length;++e){var r=o[e],c=u[e],y=l[e],h=!0,p=!1,g=void 0;try{for(var s,v=a[y.type][Symbol.iterator]();!(h=(s=v.next()).done);h=!0){var x=s.value;y[x]=(1-t)*r[x]+t*c[x],"largeArcFlag"!==x&&"sweepFlag"!==x||(y[x]=Math.round(y[x]))}}catch(t){p=!0,g=t}finally{try{h||null==v.return||v.return()}finally{if(p)throw g}}}var d="",b=!0,m=!1,O=void 0;try{for(var j,w=l[Symbol.iterator]();!(b=(j=w.next()).done);b=!0)d+=f(j.value)}catch(t){m=!0,O=t}finally{try{b||null==w.return||w.return()}finally{if(m)throw O}}return i&&(d+="Z"),d}},Object.defineProperty(t,"__esModule",{value:!0})});