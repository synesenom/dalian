<!DOCTYPE html><!--mixin resize(elem)//script.
    function resize() {
      const { width, height } = getSize();
      document.getElementById('widget').style.paddingTop = height + 'px';
      
        .width(width)
        .height(height)
    }
    window.onresize = resize;
--><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="../../../style/fonts.css"><link rel="stylesheet" type="text/css" href="../../../style/base.css"><link rel="stylesheet" type="text/css" href="../../../style/scrollbar.css"><link rel="stylesheet" type="text/css" href="../../../style/heading.css"><link rel="stylesheet" type="text/css" href="../../../style/code.css"><link rel="stylesheet" type="text/css" href="../../../style/example.css"><link rel="stylesheet" type="text/css" href="../../../style/link.css"><link rel="stylesheet" type="text/css" href="../../../style/atelier-lakeside-light.css"><link rel="stylesheet" type="text/css" href="../../../style/marker.css"><link rel="stylesheet" type="text/css" href="../../../style/main.css"><script type="text/javascript" src="../../../js/codedoc.min.js"></script><script type="text/javascript" src="../../../js/highlight.min.js"></script><script type="text/javascript" src="../../../js/mobile-detect.1.4.4.min.js"></script><script type="text/javascript" src="../../../js/ranjs.min.js"></script><script type="text/javascript" src="../../../js/d3.5.15.0.min.js"></script><script type="text/javascript" src="../../../js/d3-interpolate-path.2.1.1.min.js"></script><script type="text/javascript" src="../../../js/controls.js"></script><script type="text/javascript" src="../../../dl/dalian.min.js"></script><script type="text/javascript">codedoc.heading()
  .callback(function() {
    hljs.initHighlighting.called = false;
    hljs.initHighlighting();
  });</script><!--script.function getSize () {
  const md = new MobileDetect(window.navigator.userAgent);
  const width = parseFloat(d3.select('#widget').style('width'));
  const aspect = md.mobile() === null ? 2 : 1.5;
  const height = width / aspect;
  return { width, height };
}--><title>Color | dalian</title></head><body><main><div class="main-content-centered"><div id="widget"><div class="margin-right"><div id="controls"><div class="controls-title">Explore the API</div><div class="content">
  <ul id="colors">
    <li id="changeColorPalette" onclick="changeColorPalette()">P - Default color palette.</li>
    <li onclick="changeColorPaletteOn()">T - Transform color.</li>
    <li id="changeColorDeficiency" onclick="changeColorDeficiency()">D - Normal vision (92%).</li>
  </ul>
</div></div></div></div><h1>description<div class="margin-right"><a href="../../">Back to the catalogue</a></div></h1><p id="desc">
  <p>
    The Color component manages color palettes and color scheme policies for widgets. Furthermore, the component can
    simulate various color vision deficiencies to test and prepare your charts for the highest accessibility.
  </p>
</p><h1>code<div class="margin-right"><a href="../../../api/components/color.html">Documentation</a><a href="https://github.com/synesenom/dalian/blob/master/src/components/color.js">Source code</a></div></h1><div id="code-doc"></div><script class="doc">
// generate data
function getData () {
  return Array.from({ length: 9 }, (d, i) => ({
    name: 'ABCDEFGH'.charAt(i),
    value: (i * 13) % 9 + 1
  }))
}
</script><script class="doc">
// create chart
const chart = dalian.BarChart('myChart', '#widget')
  .data(getData().slice(0, 8))
  .width(600)
  .height(300)
  .margins(40)
  .font.size(14)
  .bottomAxis.label('X')
  .leftAxis.label('Y')
  .render()
</script><script class="doc">
// api methods
let palettes = [
  undefined,          // Default palette.
  'palette-light',    // Built-in palette light.
  'royalblue',        // Single color.
  { A: '#1f77b4',     // Plot name specific.
    B: '#ff7f0e',
    C: '#2ca02c',
    D: '#d62728',
    E: '#9467bd',
    F: '#8c564b',
    G: '#e377c2',
    H: '#7f7f7f' }
]
let changeColorPalette = () => {
  this.p = ((this.p || 0) + 1) % 4
  chart.color.palette(palettes[this.p]).render(1000)
}

// Color vowels in blue and consonants in yellow.
let changeColorPaletteOn = () => chart.color.palette({
  vowel: 'royalblue',
  consonant: 'goldenrod'
}, name => ['A', 'E'].indexOf(name) > -1 ? 'vowel' : 'consonant').render(1000)

let deficiencies = [
  undefined,
  'deuteranomaly',
  'protanomaly',
  'protanopia',
  'deuteranopia',
  'tritanopia',
  'tritanomaly',
  'achromatomaly',
  'achromatopsia'
]
let changeColorDeficiency = () => {
  this.d = ((this.d || 0) + 1) % 9
  chart.color.deficiency(deficiencies[this.d]).render()
}
</script><script class="doc">
// update data on keypress
window.addEventListener('keydown', e => {
  switch (e.key) {
    case 'p':
      changeColorPalette()
      break
    case 't':
      changeColorPaletteOn()
      break
    case 'd':
      changeColorDeficiency()
      break
    default:
      break
  }
})
</script><script class="doc-hidden">
// Modify buttons
changeColorPalette = state(changeColorPalette, 'p', [
  'Default palette',
  'Built-in palette light',
  'Single color',
  'Plot specific color'
])
changeColorDeficiency = state(changeColorDeficiency, 'd', [
  'Normal vision (92%)',
  'Deuteranomaly (2.7%)',
  'Protanomaly (0.66%)',
  'Protanopia (0.59%)',
  'Deuteranopia (0.56%)',
  'Tritanopia (0.016%)',
  'Tritanomaly (0.01%)',
  'Achromatomaly (< 0.0001%)',
  'Achromatopsia (< 0.0001%)'
])
</script><!--+resize('' + variableName)--></div></main></body><!--script.--><!--    resize();--></html>