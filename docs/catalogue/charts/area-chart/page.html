<script class="doc">
  // create chart
  let { width, height } = getSize()     // Not part of dalian
  const areaChart = dalian.AreaChart('myChart', '#widget')
    // Data is generated with ranjs:
    // https://synesenom.github.io/ran/
    .data([{
      name: 'normal',
      values: Array.from({ length: 100 }, (d, i) => ({
        x: i / 10,
        y: new ranjs.dist.Normal(5, 2).pdf(i / 10)
      }))
    }, {
      name: 'exponential',
      values: Array.from({ length: 100 }, (d, i) => ({
        x: i / 10,
        y: new ranjs.dist.Exponential(1).pdf(i / 10)
      }))
    }])
    .width(width)
    .height(height)
    .margins(40)
    .fontSize(14)
    .xLabel('value')
    .yLabel('density')
    .smoothing(true)
    .colors({
      normal: 'yellowgreen',
      exponential: 'royalblue'
    })
    .tooltip(true)
    .tooltipYFormat(d => d.toFixed(2))
    .render()
</script>
<script class="doc">
  // update data
  setInterval(() => {
    const mu = 5 * Math.random() + 2
    const sigma = 3 * Math.random()
    const lambda = 3 * Math.random()
    areaChart.data([{
      name: 'normal',
      values: Array.from({ length: 100 }, (d, i) => ({
        x: i / 10,
        y: new ranjs.dist.Normal(mu, sigma).pdf(i / 10)
      }))
    }, {
      name: 'exponential',
      values: Array.from({ length: 100 }, (d, i) => ({
        x: i / 10,
        y: new ranjs.dist.Exponential(lambda).pdf(i / 10)
      }))
    }]).render()
  }, 20000)
</script>
