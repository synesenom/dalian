// https://www.npmjs.com/package/@dalian/component-widget v0.0.2 Copyright 2019 Enys Mones
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection")):"function"==typeof define&&define.amd?define(["d3-selection"],e):((t=t||self).dalian=t.dalian||{},t.dalian.components=t.dalian.components||{},t.dalian.components.Widget=e(t.d3))}(this,function(t){"use strict";return(e,i,n,s)=>{let o={parent:t.select(n),pos:{x:{attr:"left",ignore:"right",value:"0px"},y:{attr:"top",ignore:"bottom",value:"0px"}}},d={};d._widget={id:`dalian-widget-${e}-${i}`,container:void 0,size:{width:"300px",height:"200px",innerWidth:"300px",innerHeight:"200px"},margins:{left:0,right:0,top:0,bottom:0},update:()=>void 0};try{d._widget.container=o.parent.append("div").attr("id",d._widget.id).attr("class",`dalian-widget dalian-widget-${e}`).style("display","none").style("position","absolute").style("width",d._widget.size.width).style("height",d._widget.size.height).style("left",o.pos.x+"px").style("top",o.pos.y+"px").style("font-family","inherit").style("font-size","inherit").style("font-color","inherit"),d._widget.content=d._widget.container.append(s).attr("id",`${d._widget.id}-content`).attr("class","dalian-widget-content").style("position","absolute").style("width","100%").style("height","100%").style("left",0).style("top",0).style("font-family","inherit").style("font-size","inherit").style("font-color","inherit")}catch(t){throw Error("MissingDOMException: DOM is not present.")}let a={x:(t=0)=>(o.pos.x.attr=t>=0?"left":"right",o.pos.x.ignore=t>=0?"right":"left",o.pos.x.value=Math.abs(t)+"px",a),y:(t=0)=>(o.pos.y.attr=t>=0?"top":"bottom",o.pos.y.ignore=t>=0?"bottom":"top",o.pos.y.value=Math.abs(t)+"px",a),width:(t=300)=>(d._widget.size.width=t+"px",d._widget.size.innerWidth=t-d._widget.margins.left-d._widget.margins.right+"px",a),height:(t=200)=>(d._widget.size.height=t+"px",d._widget.size.innerHeight=t-d._widget.margins.top-d._widget.margins.bottom+"px",a),margins:t=>{switch(typeof t){case"undefined":default:d._widget.margins={left:0,right:0,top:0,bottom:0};break;case"number":d._widget.margins={left:t,right:t,top:t,bottom:t};break;case"object":d._widget.margins=Object.assign(d._widget.margins,t)}return d._widget.size.innerWidth=parseInt(d._widget.size.width)-d._widget.margins.left-d._widget.margins.right+"px",d._widget.size.innerHeight=parseInt(d._widget.size.height)-d._widget.margins.top-d._widget.margins.bottom+"px",a},render:t=>(d._widget.update(t),d._widget.container.transition().duration(t).style(o.pos.x.ignore,null).style(o.pos.x.attr,o.pos.x.value).style(o.pos.y.ignore,null).style(o.pos.y.attr,o.pos.y.value).style("width",d._widget.size.width).style("height",d._widget.size.height),d._widget.container.style("display","block"),a)};return{self:d,api:a}}});
