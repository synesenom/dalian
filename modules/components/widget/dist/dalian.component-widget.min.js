// https://www.npmjs.com/package/@dalian/widget v0.0.1 Copyright 2019 Enys Mones
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection")):"function"==typeof define&&define.amd?define(["d3-selection"],e):((t=t||self).dalian=t.dalian||{},t.dalian.components=t.dalian.components||{},t.dalian.components.Widget=e(t.d3))}(this,function(t){"use strict";return(e,i,d,g)=>{let n={};n._widget={parent:t.select(d),id:`dalian-widget-${e}-${i}`,container:void 0,pos:{x:{attr:"left",ignore:"right",value:"0px"},y:{attr:"top",ignore:"bottom",value:"0px"}},size:{width:"300px",height:"200px",innerWidth:"300px",innerHeight:"200px"},margins:{left:0,right:0,top:0,bottom:0}};try{n._widget.container=n._widget.parent.append(g).attr("id",n._widget.id).attr("class",`dalian-widget dalian-widget-${e}`).style("display","none").style("position","absolute").style("width",n._widget.size.width).style("height",n._widget.size.height).style("left",n._widget.pos.x+"px").style("top",n._widget.pos.y+"px")}catch(t){throw Error("MissingDOMException: DOM is not present.")}n._widget.update=(()=>{});let s={x:(t=0)=>(n._widget.pos.x.attr=t>=0?"left":"right",n._widget.pos.x.ignore=t>=0?"right":"left",n._widget.pos.x.value=Math.abs(t)+"px",s),y:(t=0)=>(n._widget.pos.y.attr=t>=0?"top":"bottom",n._widget.pos.y.ignore=t>=0?"bottom":"top",n._widget.pos.y.value=Math.abs(t)+"px",s),width:(t=300)=>(n._widget.size.width=t+"px",n._widget.size.innerWidth=t-n._widget.margins.left-n._widget.margins.right+"px",s),height:(t=200)=>(n._widget.size.height=t+"px",n._widget.size.innerHeight=t-n._widget.margins.top-n._widget.margins.bottom+"px",s),margins:t=>{switch(typeof t){case"undefined":default:n._widget.margins={left:0,right:0,top:0,bottom:0};break;case"number":n._widget.margins={left:t,right:t,top:t,bottom:t};break;case"object":n._widget.margins=Object.assign(n._widget.margins,t)}return n._widget.size.innerWidth=parseInt(n._widget.size.width)-n._widget.margins.left-n._widget.margins.right+"px",n._widget.size.innerHeight=parseInt(n._widget.size.height)-n._widget.margins.top-n._widget.margins.bottom+"px",s},render:t=>(n._widget.update(t),n._widget.container.style(n._widget.pos.x.ignore,null).style(n._widget.pos.x.attr,n._widget.pos.x.value).style(n._widget.pos.y.ignore,null).style(n._widget.pos.y.attr,n._widget.pos.y.value).style("width",n._widget.size.width).style("height",n._widget.size.height),n._widget.container.style("display","block"),s)};return{self:n,api:s}}});
