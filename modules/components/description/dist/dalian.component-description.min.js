// https://www.npmjs.com/package/@dalian/component-description v0.0.1 Copyright 2019 Enys Mones
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("d3-selection")):"function"==typeof define&&define.amd?define(["d3-selection"],t):((e=e||self).dalian=e.dalian||{},e.dalian.components=e.dalian.components||{},e.dalian.components.Description=t(e.d3))}(this,function(e){"use strict";return(t,n)=>{let i={id:`${t._widget.id}-description`,getDescription:()=>void 0===i.elem||i.elem.empty()?e.select("body").append("div").attr("id",i.id).style("position","absolute").style("left",e.event.pageX+20+"px").style("top",e.event.pageY-20+"px").style("width","auto").style("max-width","500px").style("padding","10px").style("background","white").style("box-shadow","0 0 3px black").style("border-radius","3px").style("color","black").style("font-size","0.8em").style("font-family","inherit").style("line-height","1.35em").style("pointer-events","none"):i.elem,removeDescription:()=>{void 0===i.elem||i.elem.empty()||(i.elem.remove(),delete i.elem)}};return n=Object.assign(n,{description:o=>(void 0===o?t._widget.container.on("contextmenu",null):t._widget.container.on("contextmenu",()=>{e.event.preventDefault(),i.elem=i.getDescription().html(o)}).on("mouseleave",()=>{i.removeDescription()}),n)}),{self:t,api:n}}});
