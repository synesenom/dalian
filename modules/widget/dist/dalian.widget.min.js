// https://www.npmjs.com/package/@dalian/widget v0.0.1 Copyright 2019 Enys Mones
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection")):"function"==typeof define&&define.amd?define(["d3-selection"],e):(t=t||self).Widget=e(t.d3)}(this,function(t){"use strict";return(e,i,d,g,s,o)=>{(s=s||{}).widget={id:`dalian-widget-${e}-${i}`,dom:{}},s.widget.pos={x:{attr:"left",ignore:"right",value:"0px"},y:{attr:"top",ignore:"bottom",value:"0px"}},s.widget.size={width:"300px",height:"200px",innerWidth:"300px",innerHeight:"200px"},s.widget.margins={left:0,right:0,top:0,bottom:0};try{s.widget.dom.container=t.select(d).append(g).attr("id",s.widget.id).attr("class",`dalian-widget dalian-widget-${e}`).style("display","none").style("position","absolute").style("width",s.widget.size.width).style("height",s.widget.size.height).style("left",s.widget.pos.x+"px").style("top",s.widget.pos.y+"px")}catch(t){throw Error("MissingDOMException: DOM is not present.")}return s.widget.update=(()=>{console.warn("Widget.update(duration) is not implemented")}),(o=o||{}).x=((t=0)=>(s.widget.pos.x.attr=t>=0?"left":"right",s.widget.pos.x.ignore=t>=0?"right":"left",s.widget.pos.x.value=Math.abs(t)+"px",o)),o.y=((t=0)=>(s.widget.pos.y.attr=t>=0?"top":"bottom",s.widget.pos.y.ignore=t>=0?"bottom":"top",s.widget.pos.y.value=Math.abs(t)+"px",o)),o.width=((t=300)=>(s.widget.size.width=t+"px",s.widget.size.innerWidth=t-s.widget.margins.left-s.widget.margins.right+"px",o)),o.height=((t=200)=>(s.widget.size.height=t+"px",s.widget.size.innerHeight=t-s.widget.margins.top-s.widget.margins.bottom+"px",o)),o.margins=(t=>{switch(typeof t){case"undefined":default:s.widget.margins={left:0,right:0,top:0,bottom:0};break;case"number":s.widget.margins={left:t,right:t,top:t,bottom:t};break;case"object":s.widget.margins=Object.assign(s.widget.margins,t)}return s.widget.size.innerWidth=parseInt(s.widget.size.width)-s.widget.margins.left-s.widget.margins.right+"px",s.widget.size.innerHeight=parseInt(s.widget.size.height)-s.widget.margins.top-s.widget.margins.bottom+"px",o}),o.render=(t=>(s.widget.update(t),s.widget.dom.container.style(s.widget.pos.x.ignore,null).style(s.widget.pos.x.attr,s.widget.pos.x.value).style(s.widget.pos.y.ignore,null).style(s.widget.pos.y.attr,s.widget.pos.y.value).style("width",s.widget.size.width).style("height",s.widget.size.height),s.widget.dom.container.style("display","block"),o)),o}});
