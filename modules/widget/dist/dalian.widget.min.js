// https://www.npmjs.com/package/@dalian/widget v0.1.0 Copyright 2019 Enys Mones
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection")):"function"==typeof define&&define.amd?define(["d3-selection"],e):((t=t||self).dalian=t.dalian||{},t.dalian.Widget=e(t.d3))}(this,function(t){"use strict";return(e,i,d,g)=>{let s={};s._widget={parent:t.select(d),id:`dalian-widget-${e}-${i}`,container:void 0,pos:{x:{attr:"left",ignore:"right",value:"0px"},y:{attr:"top",ignore:"bottom",value:"0px"}},size:{width:"300px",height:"200px",innerWidth:"300px",innerHeight:"200px"},margins:{left:0,right:0,top:0,bottom:0}};try{s._widget.container=s._widget.parent.append(g).attr("id",s._widget.id).attr("class",`dalian-widget dalian-widget-${e}`).style("display","none").style("position","absolute").style("width",s._widget.size.width).style("height",s._widget.size.height).style("left",s._widget.pos.x+"px").style("top",s._widget.pos.y+"px")}catch(t){throw Error("MissingDOMException: DOM is not present.")}s._widget.update=(()=>{console.warn("Widget.update(duration) is not implemented")});let n={x:(t=0)=>(s._widget.pos.x.attr=t>=0?"left":"right",s._widget.pos.x.ignore=t>=0?"right":"left",s._widget.pos.x.value=Math.abs(t)+"px",n),y:(t=0)=>(s._widget.pos.y.attr=t>=0?"top":"bottom",s._widget.pos.y.ignore=t>=0?"bottom":"top",s._widget.pos.y.value=Math.abs(t)+"px",n),width:(t=300)=>(s._widget.size.width=t+"px",s._widget.size.innerWidth=t-s._widget.margins.left-s._widget.margins.right+"px",n),height:(t=200)=>(s._widget.size.height=t+"px",s._widget.size.innerHeight=t-s._widget.margins.top-s._widget.margins.bottom+"px",n),margins:t=>{switch(typeof t){case"undefined":default:s._widget.margins={left:0,right:0,top:0,bottom:0};break;case"number":s._widget.margins={left:t,right:t,top:t,bottom:t};break;case"object":s._widget.margins=Object.assign(s._widget.margins,t)}return s._widget.size.innerWidth=parseInt(s._widget.size.width)-s._widget.margins.left-s._widget.margins.right+"px",s._widget.size.innerHeight=parseInt(s._widget.size.height)-s._widget.margins.top-s._widget.margins.bottom+"px",n},render:t=>(s._widget.update(t),s._widget.container.style(s._widget.pos.x.ignore,null).style(s._widget.pos.x.attr,s._widget.pos.x.value).style(s._widget.pos.y.ignore,null).style(s._widget.pos.y.attr,s._widget.pos.y.value).style("width",s._widget.size.width).style("height",s._widget.size.height),s._widget.container.style("display","block"),n)};return{self:s,api:n}}});
